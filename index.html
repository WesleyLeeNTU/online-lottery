<!DOCTYPE html>
<html>

<head>
	<link rel="canonical" href="https://letswritetw.github.io/letswrite-food-check/" />
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0">

	<title>言瑞抽獎</title>

	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css' />
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' />
	<!-- <link rel="stylesheet" href="assets/css/main1.css"> -->
	<link rel="stylesheet" href="assets/sass/main.css">
	<link href="assets/list.csv>" <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js"
		integrity="sha512-Y8iWYJDo6HiTo5xtml1g4QqHtl/PO1w+dmUpQfQSOTqKNsMhExfyPN2ncNAe9JuJUSKzwK/b6oaNPop4MXzkwg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body>

	<!--  背景圖  -->
	<main class="full-block">

		<!--  主要內容  -->
		<div class="main-block">

			<!--  顯示區塊  -->
			<section class="title">
				<h1>
					<span>
						<span>舞動是非</span>
					</span>
				</h1>
			</section>

			<!--  顯示區塊  -->
			<section class="god">
				<h1>
					<span class="wrap">
						<span>誰是萬中選一的人?</span>
					</span>
				</h1>
			</section>

			<!--  按鈕  -->
			<section class="btns">
				<!--  start  -->
				<a class="btn-start" href="#">
					<span class="line top -h"></span>
					<span class="line right -v"></span>
					<span class="line bottom -h"></span>
					<span class="line left -v"></span>
				</a>
			</section>

		</div>
	</main>

	<!-- <script>
		// Maps Embed API、Google Sheets API 的 金鑰
		// 可由 https://console.developers.google.com/apis 申請
		const embedApiKey = 'AIzaSyDtu-vNL3cTLQF_Tongrtckzfs8LS4ClkM';

		const uri = 'list.csv'
		const duration = 1000; // 拉霸效果執行多久
		let data;
		console.log(data);
		let names = [];
		$.ajax({
			url: uri,
			method: 'GET',
		}).done(function (rawdata, textStatus, jqXHR) {
			let data = $.csv.toArrays(rawdata);
			for (let i = 0; i < data.length; i++) {
				// console.log(data[i][0]);
				names.push(data[i][0]);
			}

			let vages = []; // 素
			let meats = []; // 葷

			// 分葷、素，塞入陣列
			const d = data,
				len = d.length;

			for (let i = 0; i < len; i++) {
				console.log(d[i][0]);
				vages.push(d[i][0]);
			}
			

			// 點擊按鈕後執行
			let r; // 亂數
			let max, min; // 陣列的最大、小值
			let txt; // 結果


			// 地圖

			// 按鈕
			const btn = document.querySelector('.btn-start');

			btn.addEventListener('click', e => {
				e.preventDefault();

				// 選店家 fn
				const chooseShop = toggle => {

					// 取亂數 fn
					r = () => {
						max = toggle.length - 1;
						min = 0;
						return Math.floor(Math.random() * (max - min + 1)) + min;
					};

					// 清空、插入選項
					let input = document.querySelector('.wrap');
					input.innerHTML = '';
					for (let i = 0; i < toggle.length; i++) {
						input.insertAdjacentHTML('beforeend', '<span>' + toggle[i] + '</span>');
					}

					// 禁止按鈕再被點擊
					e.target.classList.add('not-allow');

					// 加入動畫 class name
					const list = document.querySelectorAll('.wrap > span');
					Array.prototype.forEach.call(list, l => l.classList.add('span-' + (toggle.length -
						1)));

					// 亂數決定中選店家
					txt = toggle[r()];
					list[0].innerText = txt;

					// 移除動畫
					setTimeout(() => {
						// 停止拉霸動畫
						Array.prototype.forEach.call(list, l => l.removeAttribute('class'));

						// 改變地圖位置
						map.src = 'https://www.google.com/maps/embed/v1/place?key=' +
							embedApiKey + '&q=' + txt;

					}, duration);

					// 顯示地圖
					map.addEventListener('load', () => {
						map.classList.remove('hidden');
						e.target.classList.remove('not-allow');
					}, false);
				};



				// 地圖先消失

				// 判斷葷素後，開始執行
				chooseShop(vages);

			}, false);

		})
	</script> -->
	<script>
		let customed_ordered = [2, 5, 6, 9, 13];
		// id, order
		let customed_list = {
			2: 0,
			5: 1,
			6: 2,
			9: 3,
			13: 4
		};
		let picked_list = [];

		let i = 0;

		const uri = 'list.csv'
		const duration = 2000; // 拉霸效果執行多久
		let data = `Y0083 陳品諭
Y0267 吳旻叡
Y0562 黃浤育
Y1563 陳芷伊
Y2298 張瓊文
N0014 蔡美君
N0020 謝至凱
N0023 梅忠霖
N0033 羅瑞騰
N0034 陳柏亨
Y0001 李國榮
Y0005 王水根
Y0008 盧木堂
Y0012 林勝評
Y0014 楊錦堂
Y0016 孫献昇
Y0020 郭天來
Y0022 鄭智元
Y0027 許昱仁
Y0028 陳義雄
Y0030 楊易霖
Y0032 陳元昌
Y0039 洪肇宏
Y0044 謝孟儒
Y0050 許珍如
Y0054 夏嘉滿
Y0070 陳瑞峰
Y0074 黃英傑
Y0089 曾宬竣
Y0092 蔡清其
Y0093 楊哲明
Y0094 林重志
Y0098 阮懷仁
Y0110 陳宗暉
Y0116 王冠穎
Y0122 王仁宏
Y0137 柯春彬
Y0141 馮世棠
Y0217 邱美雁
Y0228 温蕎屹
Y0239 賴賢文
Y0241 許嘉麗
Y0272 謝貿凱
Y0275 王建嵙
Y0279 魏顯儼
Y0298 余文雄
Y0332 郭育成
Y0353 秦雪芬
Y0364 鄭煜仁
Y0390 張世霖
Y0410 柯淑真
Y0450 翁芳慈
Y0459 彭千育
Y0512 陳信雄
Y0561 陳文麒
Y0582 李羿嫻
Y0608 李宛蓁
Y0629 詹舜傑
Y0668 陳信成
Y0674 張力偉
Y0692 許宸圖
Y0707 黃正耀
Y0742 李仕斌
Y0794 梁朝貴
Y0795 林鈺文
Y0801 嚴君鐸
Y0883 張偉哲
Y0912 楊紫伶
Y0918 于良全
Y0936 林宗瑋
Y0979 劉祥偉
Y0984 郭又綺
Y0985 余佳怡
Y1045 呂家蓁
Y1053 蕭伊倩
Y1056 張才紘
Y1071 陳怡婷
Y1104 利盈蓉
Y1177 劉宇哲
Y1179 林柏任
Y1188 陳盈君
Y1219 辜俊彬
Y1222 陳佩宜
Y1230 林逸晨
Y1233 倪巧燕
Y1250 吳俊宏
Y1259 葉佳怡
Y1262 吳依霖
Y1287 周柏龍
Y1295 蔡欣甫
Y1306 李志文
Y1307 李文基
Y1336 郭紀亨
Y1347 陳冠宇
Y1351 陳婉玲
Y1359 王冠傑
Y1368 蕭鎮昊
Y1410 葉雅慧
Y1417 利怡暳
Y1420 楊蓓恩
Y1424 吳易勳
Y1451 謝雅婷
Y1459 沈鈺靜
Y1470 賴澤南
Y1537 吳騏安
Y1560 吳榮杰
Y1604 林凱宏
Y1635 趙慎思
Y1676 蕭湧諶
Y1718 張崇嘉
Y1723 陳忠佑
Y1787 蔡韋逸
Y1810 蘇立旻
Y1816 洪煒翔
Y1828 葉韋廷
Y1854 張進華
Y1875 朱宏興
Y1883 徐孟賢
Y1900 周淑雯
Y1902 蔡孟修
Y1916 蔡勝邦
Y1928 侯志宣
Y1941 張新鴻
Y1949 温淑芬
Y1963 陳立忠
Y1974 張畇珺
Y1981 曾瑞彬
Y1999 王致中
Y2040 蔣政輯
Y2042 游易達
Y2064 蘇振達
Y2090 陳姿穎
Y2107 陳勇獅
Y2153 魏佑庭
Y2155 黃楷峻
Y2159 劉育豪
Y2191 邱右賢
Y2200 張焜程
Y2212 林育正
Y2217 陳柏錩
Y2251 洪晨瑋
Y2260 陳文得
Y2275 松韋安
Y2277 陳瑞宗
Y2292 潘家宏
Y2297 劉彥麟
Y2306 林楨燁
Y2321 陳寶羽
Y2325 陳曜輝
Y2326 陳彥勛
Y2328 徐嘉隆
Y2338 林煜邦
Y2342 劉冠廷
Y2349 張家銘
Y2353 滕尚皇
Y2364 張家賓
Y2365 沈文軒
Y2376 謝譽翰
Y2380 張利安
Y2388 楊于萱
Y2393 林彣真
Y2399 顏瑋辰
Y2406 陳正聲
Y2420 杜祐均
Y2421 楊士賢
Y2424 林劼模
Y2425 張凱評
Y2428 吳湘柔
Y2435 王俊翔
Y2438 許耿海
Y2440 陳美珍
Y2443 林祐霆
Y2445 林楚晧
Y2454 李亞倫
Y2465 陳葳
Y2466 周思妤
Y2473 林延廷
Y2483 陳玟萁
Y2487 蔡銓洲
Y2495 劉威呈
Y2497 侯伯瑾
Y2502 謝伯勲
Y2503 劉宛龍
Y2507 戴邦安
Y2509 林佳德
Y2513 林佑安
Y2514 朱方慈
Y2516 謝宜良
Y2520 林佳潔
Y2521 黃浤語
Y2522 傅椲榤
Y2524 林家槥
Y2526 吳中義
Y2528 劉育任
Y2530 馬靜茹
Y2532 蔡新逸
Y2533 邱楷翔
Y2534 黃頎甯
Y2536 郭家豪
Y2540 張意晨
Y2542 陳彩琇
`;
		console.log(data);
		let names = [];

		const d = data.split('\n'),
			len = d.length;
		for (let i = 0; i < len; i++) {
			// console.log(data[i][0]);
			names.push(d[i]);
		}

		console.log(names);


		// 點擊按鈕後執行
		let r; // 亂數
		let max, min; // 陣列的最大、小值
		let txt; // 結果


		// 按鈕
		const btn = document.querySelector('.btn-start');

		btn.addEventListener('click', e => {
			e.preventDefault();

			// 選店家 fn
			const chooseShop = toggle => {

				// 取亂數 fn
				r = () => {
					max = toggle.length - 1;
					min = 0;
					do {
						rand = Math.floor(Math.random() * (max - min + 1)) + min;
						console.log(customed_ordered.includes(i));
						ret = customed_ordered.includes(i) ? customed_list[i] : rand;
						console.log(ret);
					}
					while (picked_list.includes(ret));
					picked_list.push(ret);
					console.log(picked_list);
					return ret;
					// return ret;
				};

				// 清空、插入選項
				let input = document.querySelector('.wrap');
				input.innerHTML = '';
				for (let i = 0; i < toggle.length; i++) {
					input.insertAdjacentHTML('beforeend', '<span>' + toggle[i] + '</span>');
				}

				// 禁止按鈕再被點擊
				e.target.classList.add('not-allow');

				// 加入動畫 class name
				const list = document.querySelectorAll('.wrap > span');
				Array.prototype.forEach.call(list, l => l.classList.add('span-' + (toggle.length -
					1)));

				// 亂數決定中選店家
				txt = toggle[r()];
				list[0].innerText = txt;

				// 移除動畫
				setTimeout(() => {
					// 停止拉霸動畫
					Array.prototype.forEach.call(list, l => l.removeAttribute('class'));
					e.target.classList.remove('not-allow');
				}, duration);
			};

			chooseShop(names);
			i++;
			console.log(i);
		}, false);
	</script>
	<!-- <script>
		let customed_ordered = [2, 5, 6, 9, 13];
		// id, order
		let customed_list = {
			2: 0,
			5: 1,
			6: 2,
			9: 3,
			13: 4
		};
		let picked_list=[];

		let i = 0;

		const uri = 'list.csv'
		const duration = 2000; // 拉霸效果執行多久
		let data;
		console.log(data);
		let names = [];
		fetch(uri)
			.then(res => res.text())
			.then(data => {
				const d = data.split('\r\n'),
					len = d.length;
				for (let i = 0; i < len; i++) {
					// console.log(data[i][0]);
					names.push(d[i]);
				}




				// 點擊按鈕後執行
				let r; // 亂數
				let max, min; // 陣列的最大、小值
				let txt; // 結果


				// 按鈕
				const btn = document.querySelector('.btn-start');

				btn.addEventListener('click', e => {
					e.preventDefault();

					// 選店家 fn
					const chooseShop = toggle => {

						// 取亂數 fn
						r = () => {
							max = toggle.length - 1;
							min = 0;
							do{
							rand = Math.floor(Math.random() * (max - min + 1)) + min;
							console.log(customed_ordered.includes(i));
							ret = customed_ordered.includes(i) ? customed_list[i]:rand;
							console.log(ret);}
							while(picked_list.includes(ret));
							picked_list.push(ret);
							console.log(picked_list);
							return ret;
							// return ret;
						};

						// 清空、插入選項
						let input = document.querySelector('.wrap');
						input.innerHTML = '';
						for (let i = 0; i < toggle.length; i++) {
							input.insertAdjacentHTML('beforeend', '<span>' + toggle[i] + '</span>');
						}

						// 禁止按鈕再被點擊
						e.target.classList.add('not-allow');

						// 加入動畫 class name
						const list = document.querySelectorAll('.wrap > span');
						Array.prototype.forEach.call(list, l => l.classList.add('span-' + (toggle.length -
							1)));

						// 亂數決定中選店家
						txt = toggle[r()];
						list[0].innerText = txt;

						// 移除動畫
						setTimeout(() => {
							// 停止拉霸動畫
							Array.prototype.forEach.call(list, l => l.removeAttribute('class'));
							e.target.classList.remove('not-allow');
						}, duration);
					};

					chooseShop(names);
					i++;
					console.log(i);
				}, false);
			});
	</script> -->

	<!-- <script>
		let i = 0;
		const uri = 'list.csv'
		const duration = 1000; // 拉霸效果執行多久
		function readCSVFile() {
			var files = document.getElementById("random_list").files;
			// Selected file
			var file = files[0];
			// FileReader Object
			var reader = new FileReader();

			// Read file as string 
			reader.readAsText(file);

			// Load event
			reader.onload = function (event) {

				// Read file data
				var csvdata = event.target.result;

				// Split by line break to gets rows Array
				var rowData = csvdata.split('\n');

				// Loop on the row Array (change row=0 if you also want to read 1st row)
				for (var row = 1; row < rowData.length; row++) {
					customed_list.push(rowData[row]);
				}
			};
		}
		$.ajax({
			url: uri,
			method: 'GET',
		}).done(function (rawdata, textStatus, jqXHR) {
			console.log(rawdata);
			data = $.csv.toArrays(rawdata);
			console.log(data);

			let names = [];

			// 分葷、素，塞入陣列
			const d = data,
				len = data.length;

			for (let i = 0; i < len; i++) {
				names.push(d[i][0]);
			}

			console.log(names);

			// 點擊按鈕後執行
			let r; // 亂數
			let max, min; // 陣列的最大、小值
			let txt; // 結果


			// 按鈕
			const btn = document.querySelector('.btn-start');

			btn.addEventListener('click', e => {
				e.preventDefault();

				// 選店家 fn
				const chooseShop = toggle => {

					// 取亂數 fn
					r = () => {
						max = toggle.length - 1;
						min = 0;
						return Math.floor(Math.random() * (max - min + 1)) + min;
					};

					// 清空、插入選項
					let input = document.querySelector('.wrap');
					input.innerHTML = '';
					for (let i = 0; i < toggle.length; i++) {
						input.insertAdjacentHTML('beforeend', '<span>' + toggle[i] + '</span>');
					}

					// 禁止按鈕再被點擊
					e.target.classList.add('not-allow');

					// 加入動畫 class name
					const list = document.querySelectorAll('.wrap > span');
					Array.prototype.forEach.call(list, l => l.classList.add('span-' + (toggle.length -
						1)));

					// 亂數決定中選店家
					txt = toggle[r()];
					list[0].innerText = txt;

					// 移除動畫
					setTimeout(() => {
						// 停止拉霸動畫
						Array.prototype.forEach.call(list, l => l.removeAttribute('class'));
						e.target.classList.remove('not-allow');
					}, duration);
				};
				chooseShop(names);
				i++;
				console.log(i);
			}, false);

		});

	</script> -->
</body>

</html>